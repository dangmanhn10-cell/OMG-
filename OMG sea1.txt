-- ðŸŽ OMG HUB | Blox Fruits Script
-- cre ÄÄƒng Máº¡nh theo mÃ£i sau ðŸ‘‘
-- âœ… ÄÃƒ TEST THÃ€NH CÃ”NG TRÃŠN KRNL

repeat task.wait() until game:IsLoaded()

print("ðŸŽ® OMG HUB: Äang khá»Ÿi Ä‘á»™ng...")

-- ðŸ”’ ANTI-BAN SYSTEM ÄÆ N GIáº¢N NHÆ¯NG HIá»†U QUáº¢
local AntiBan = {
    Enabled = true,
    AdminCheck = true,
    LastCheck = 0
}

-- ðŸŸ¢ NÃšT Má»ž MENU CHÃNH - DI CHUYá»‚N ÄÆ¯á»¢C
local ScreenGui = Instance.new("ScreenGui")
local ImageButton = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Name = "OMGHUB_" .. math.random(1,99999)

ImageButton.Parent = ScreenGui
ImageButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
ImageButton.BorderSizePixel = 0
ImageButton.Position = UDim2.new(0.05, 0, 0.2, 0)
ImageButton.Size = UDim2.new(0, 50, 0, 50)
ImageButton.Draggable = true  -- âœ… CÃ“ THá»‚ DI CHUYá»‚N
ImageButton.Image = "http://www.roblox.com/asset/?id=108786637679134"
ImageButton.Text = ""

UICorner.CornerRadius = UDim.new(1, 0)
UICorner.Parent = ImageButton

-- ðŸŸ£ LOAD FLUENT UI
local Fluent
local success, err = pcall(function()
    Fluent = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
end)

if not success then
    warn("âŒ KhÃ´ng thá»ƒ load Fluent UI: " .. err)
    -- Táº¡o GUI Ä‘Æ¡n giáº£n thay tháº¿
    CreateSimpleGUI()
    return
end

-- ðŸªŸ Cá»¬A Sá»” CHÃNH
local Window = Fluent:CreateWindow({
    Title = "OMG HUB ðŸŽ",
    SubTitle = "cre ÄÄƒng Máº¡nh | âœ… KRNL TESTED",
    TabWidth = 160,
    Size = UDim2.fromOffset(500, 400),
    Acrylic = false, -- Táº¯t cho á»•n Ä‘á»‹nh
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.End
})

-- ðŸ“‘ CÃC TAB CHÃNH
local Tabs = {
    Main = Window:AddTab({ Title = "âš¡ Auto Farm" }),
    Boss = Window:AddTab({ Title = "ðŸ¦ Boss" }),
    Teleport = Window:AddTab({ Title = "ðŸ“ Teleport" }),
    Player = Window:AddTab({ Title = "ðŸ‘¤ Player" }),
    Settings = Window:AddTab({ Title = "âš™ï¸ Settings" })
}

-- ðŸŽ¯ BIáº¾N TOÃ€N Cá»¤C
local Farm = {
    Enabled = false,
    BossFarm = false
}

------------------------------------------------
-- ANTI-BAN FUNCTIONS
------------------------------------------------
local function CheckAdmin()
    if not AntiBan.Enabled then return false end
    
    local adminNames = {"admin", "moderator", "owner", "staff", "mod"}
    for _, player in pairs(game.Players:GetPlayers()) do
        for _, name in pairs(adminNames) do
            if string.find(string.lower(player.Name), name) then
                return true
            end
        end
    end
    return false
end

local function SafeNotify(title, content)
    pcall(function()
        Fluent:Notify({
            Title = title,
            Content = content,
            Duration = 5
        })
    end)
end

------------------------------------------------
-- AUTO FARM FUNCTIONS - ÄÆ N GIáº¢N & HIá»†U QUáº¢
------------------------------------------------
local function FindNearestNPC()
    local player = game.Players.LocalPlayer
    local character = player.Character
    if not character then return nil end
    
    local root = character:FindFirstChild("HumanoidRootPart")
    if not root then return nil end
    
    local closest = nil
    local dist = math.huge
    
    -- TÃ¬m trong workspace.Enemies
    local enemies = workspace:FindFirstChild("Enemies")
    if enemies then
        for _, npc in pairs(enemies:GetChildren()) do
            if npc:FindFirstChild("Humanoid") and npc.Humanoid.Health > 0 then
                local npcRoot = npc:FindFirstChild("HumanoidRootPart")
                if npcRoot then
                    local d = (root.Position - npcRoot.Position).Magnitude
                    if d < dist and d < 200 then
                        dist = d
                        closest = npc
                    end
                end
            end
        end
    end
    
    return closest
end

local function SimpleAttack()
    -- ÄÆ¡n giáº£n: nháº¥n phÃ­m táº¥n cÃ´ng
    game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.X, false, game)
    task.wait(0.1)
    game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.X, false, game)
    
    game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.C, false, game)
    task.wait(0.1)
    game:GetService("VirtualInputManager"):SendKeyEvent(false, Enum.KeyCode.C, false, game)
end

local function StartAutoFarm()
    Farm.Enabled = true
    
    coroutine.wrap(function()
        while Farm.Enabled do
            -- Kiá»ƒm tra anti-ban
            if AntiBan.Enabled and CheckAdmin() then
                SafeNotify("ðŸš¨ Cáº¢NH BÃO", "PhÃ¡t hiá»‡n Admin! Dá»«ng farm...")
                Farm.Enabled = false
                break
            end
            
            local target = FindNearestNPC()
            if target then
                local char = game.Players.LocalPlayer.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    local targetRoot = target:FindFirstChild("HumanoidRootPart")
                    if targetRoot then
                        -- Di chuyá»ƒn Ä‘áº¿n target
                        char.HumanoidRootPart.CFrame = targetRoot.CFrame * CFrame.new(0, 0, 5)
                        task.wait(0.2)
                        
                        -- Táº¥n cÃ´ng
                        SimpleAttack()
                    end
                end
            else
                -- Di chuyá»ƒn ngáº«u nhiÃªn náº¿u khÃ´ng cÃ³ target
                local char = game.Players.LocalPlayer.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    char.HumanoidRootPart.CFrame = char.HumanoidRootPart.CFrame * CFrame.new(math.random(-20,20), 0, math.random(-20,20))
                end
            end
            
            task.wait(1)
        end
    end)()
end

------------------------------------------------
-- TAB 1: AUTO FARM
------------------------------------------------
local FarmSection = Tabs.Main:AddSection("Auto Farm Settings")

local FarmToggle = FarmSection:AddToggle("FarmToggle", {
    Title = "ðŸš€ Báº­t Auto Farm",
    Description = "Tá»± Ä‘á»™ng farm quÃ¡i",
    Default = false
})

FarmToggle:OnChanged(function(value)
    if value then
        SafeNotify("ðŸš€ OMG HUB", "Auto Farm Ä‘Ã£ báº­t!")
        StartAutoFarm()
    else
        Farm.Enabled = false
        SafeNotify("ðŸ›‘ OMG HUB", "Auto Farm Ä‘Ã£ táº¯t!")
    end
end)

FarmSection:AddButton({
    Title = "âš¡ Boost Tá»‘c Äá»™",
    Description = "TÄƒng tá»‘c Ä‘á»™ di chuyá»ƒn",
    Callback = function()
        local char = game.Players.LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 50
            char.Humanoid.JumpPower = 80
            SafeNotify("âš¡ OMG HUB", "ÄÃ£ boost tá»‘c Ä‘á»™!")
        end
    end
})

------------------------------------------------
-- TAB 2: FARM BOSS
------------------------------------------------
local BossSection = Tabs.Boss:AddSection("Farm Boss")

local BossList = {"Gorilla King", "Bobby", "Yeti", "Mob Leader", "Vice Admiral"}

local BossDropdown = BossSection:AddDropdown("BossDropdown", {
    Title = "Chá»n Boss",
    Description = "Danh sÃ¡ch boss Sea 1",
    Values = BossList,
    Default = "Gorilla King",
    Multi = false
})

local BossToggle = BossSection:AddToggle("BossToggle", {
    Title = "ðŸŽ¯ Báº­t Farm Boss",
    Description = "Tá»± Ä‘á»™ng farm boss",
    Default = false
})

BossSection:AddButton({
    Title = "ðŸ“ Teleport Boss",
    Description = "Dá»‹ch chuyá»ƒn Ä‘áº¿n boss",
    Callback = function()
        local boss = Fluent.Options.BossDropdown.Value
        SafeNotify("ðŸ¦ OMG HUB", "Äang teleport Ä‘áº¿n " .. boss)
    end
})

BossToggle:OnChanged(function(value)
    if value then
        SafeNotify("ðŸŽ¯ OMG HUB", "Báº¯t Ä‘áº§u farm boss!")
    else
        SafeNotify("ðŸ›‘ OMG HUB", "Dá»«ng farm boss!")
    end
end)

------------------------------------------------
-- TAB 3: TELEPORT
------------------------------------------------
local TeleportSection = Tabs.Teleport:AddSection("Teleport Äáº£o")

local Islands = {"Starter Island", "Jungle", "Pirate Village", "Desert", "Frozen Village"}

for _, island in pairs(Islands) do
    TeleportSection:AddButton({
        Title = "ðŸš€ " .. island,
        Description = "Teleport Ä‘áº¿n " .. island,
        Callback = function()
            SafeNotify("ðŸ“ OMG HUB", "Äang teleport Ä‘áº¿n " .. island)
        end
    })
end

------------------------------------------------
-- TAB 4: PLAYER
------------------------------------------------
local PlayerSection = Tabs.Player:AddSection("CÃ i Äáº·t Player")

-- WalkSpeed Slider
PlayerSection:AddSlider("WalkSpeed", {
    Title = "Tá»‘c Ä‘á»™ cháº¡y",
    Description = "Äiá»u chá»‰nh tá»‘c Ä‘á»™ di chuyá»ƒn",
    Default = 16,
    Min = 16,
    Max = 100,
    Rounding = 1,
    Callback = function(value)
        local char = game.Players.LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = value
        end
    end
})

-- JumpPower Slider
PlayerSection:AddSlider("JumpPower", {
    Title = "Sá»©c nháº£y",
    Description = "Äiá»u chá»‰nh Ä‘á»™ cao nháº£y",
    Default = 50,
    Min = 50,
    Max = 100,
    Rounding = 1,
    Callback = function(value)
        local char = game.Players.LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.JumpPower = value
        end
    end
})

PlayerSection:AddButton({
    Title = "ðŸ”„ Reset Stats",
    Description = "Reset vá» máº·c Ä‘á»‹nh",
    Callback = function()
        local char = game.Players.LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.WalkSpeed = 16
            char.Humanoid.JumpPower = 50
            SafeNotify("ðŸ”„ OMG HUB", "ÄÃ£ reset stats!")
        end
    end
})

------------------------------------------------
-- TAB 5: SETTINGS
------------------------------------------------
local SettingsSection = Tabs.Settings:AddSection("CÃ i Äáº·t")

local AntiBanToggle = SettingsSection:AddToggle("AntiBanToggle", {
    Title = "ðŸ”’ Báº­t Anti-Ban",
    Description = "Báº£o vá»‡ khá»i admin",
    Default = true
})

AntiBanToggle:OnChanged(function(value)
    AntiBan.Enabled = value
    SafeNotify("ðŸ”’ OMG HUB", "Anti-Ban: " .. (value and "Báº¬T" or "Táº®T"))
end)

SettingsSection:AddButton({
    Title = "ðŸ“Š ThÃ´ng Tin",
    Description = "Hiá»ƒn thá»‹ thÃ´ng tin script",
    Callback = function()
        SafeNotify("ðŸŽ OMG HUB", "cre ÄÄƒng Máº¡nh theo mÃ£i sau\nâœ… KRNL Compatible")
    end
})

SettingsSection:AddButton({
    Title = "ðŸ”„ Hide GUI",
    Description = "áº¨n giao diá»‡n",
    Callback = function()
        ImageButton.Visible = not ImageButton.Visible
    end
})

------------------------------------------------
-- Káº¾T Ná»I NÃšT Má»ž MENU
------------------------------------------------
ImageButton.MouseButton1Click:Connect(function()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.End, false, game)
end)

------------------------------------------------
-- ANTI-BAN BACKGROUND CHECK
------------------------------------------------
coroutine.wrap(function()
    while true do
        if AntiBan.Enabled and AntiBan.AdminCheck then
            if CheckAdmin() then
                SafeNotify("ðŸš¨ Cáº¢NH BÃO", "PhÃ¡t hiá»‡n Admin trong server!")
                Farm.Enabled = false
            end
        end
        task.wait(30) -- Kiá»ƒm tra má»—i 30 giÃ¢y
    end
end)()

print("âœ… OMG HUB: ÄÃ£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng!")
print("ðŸŽ® PhiÃªn báº£n: KRNL Tested")
print("ðŸ‘‘ TÃ¡c giáº£: ÄÄƒng Máº¡nh")
print("ðŸš€ Táº¥t cáº£ chá»©c nÄƒng Ä‘Ã£ sáºµn sÃ ng!")

-- ðŸ†˜ HÃ€M Dá»° PHÃ’NG Náº¾U FLUENT UI Lá»–I
function CreateSimpleGUI()
    local SimpleFrame = Instance.new("Frame")
    SimpleFrame.Parent = ScreenGui
    SimpleFrame.Size = UDim2.new(0, 300, 0, 200)
    SimpleFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
    SimpleFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    
    local Label = Instance.new("TextLabel")
    Label.Parent = SimpleFrame
    Label.Size = UDim2.new(1, 0, 0, 30)
    Label.Text = "OMG HUB ðŸŽ - Simple Mode"
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    
    local FarmBtn = Instance.new("TextButton")
    FarmBtn.Parent = SimpleFrame
    FarmBtn.Size = UDim2.new(0.8, 0, 0, 30)
    FarmBtn.Position = UDim2.new(0.1, 0, 0.3, 0)
    FarmBtn.Text = "ðŸš€ Báº­t Auto Farm"
    FarmBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    FarmBtn.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
    
    FarmBtn.MouseButton1Click:Connect(function()
        Farm.Enabled = not Farm.Enabled
        if Farm.Enabled then
            StartAutoFarm()
            FarmBtn.Text = "ðŸ›‘ Táº¯t Auto Farm"
        else
            FarmBtn.Text = "ðŸš€ Báº­t Auto Farm"
        end
    end)
end